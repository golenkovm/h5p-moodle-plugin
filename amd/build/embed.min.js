define ("mod_hvp/embed",["jquery","mod_hvp/communicator"],function(a,b){a(document).ready(function(){a(".h5p-iframe").ready(function(){var a=document.querySelector(".h5p-iframe"),b=a.contentWindow.H5P;if(!b||!b.instances||!b.instances[0]){b.externalDispatcher.on("initialized",function(){c(a,b)});return}c(a,b)})});var c=function(a,c){var d,e=c.instances[0],f=!1;b.on("ready",function(){b.send("hello")});b.on("hello",function(){f=!0;a.contentDocument.body.style.overflow="hidden";document.body.classList.add("h5p-resizing");c.trigger(e,"resize")});b.on("resizePrepared",function(){b.send("resize",{scrollHeight:a.contentDocument.body.scrollHeight})});b.on("resize",function(){c.trigger(e,"resize")});c.on(e,"resize",function(){if(c.isFullscreen){return}clearTimeout(d);d=setTimeout(function(){if(f){b.send("prepareResize",{scrollHeight:a.contentDocument.body.scrollHeight,clientHeight:a.contentDocument.body.clientHeight})}else{b.send("hello")}},0)});c.trigger(e,"resize")}});
//# sourceMappingURL=embed.min.js.map
